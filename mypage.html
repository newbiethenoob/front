<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
  <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
    <!DOCTYPE html>
    <html>

    <head>
      <meta charset="UTF-8">
      <link rel="stylesheet" href="css/mypage.css">
      <title>Mypage 작성글 확인(기본페이지)</title>
    </head>

    <header>

    </header>

    <body>
      <!--마이페이지 사이드바-->
      <div class="mypage-sidebar">
        <div class="mypage-category">
          <h2>My page</h2>
          <div class="mypage-category-list">
            <ul>
              <li onclick="body_convert(mypage_mywriting)">나의 작성글</li>
              <li onclick="body_convert(mypage_starmark)">즐겨찾기</li>
              <li onclick="body_convert(mypage_personalInfo)">개인정보 조회</li>
              <li onclick="body_convert(mypage_mytag)">마이태그 수정</li>
            </ul>
          </div>
        </div>
      </div>


      <!--마이페이지 바디-->
      <!-- 목록 리스트 -->
      <span id="mypage_mywriting">
        <table class="document">
          <h2> 나의 작성 문서 </h2>
          <thead id="list_title">

            <tr>
              <th>번호</th>
              <th>제목</th>
              <th>다운로드</th>
              <th>소속 기관</th>
              <th>작성일</th>
              <th>작성자</th>
            </tr>
          </thead>

          <tbody class="list-body">
            <tr>
              <td>10</td>
              <td>공공문서 관련한 문서 관리</td>
              <td>파일</td>
              <td>세종특별청사</td>
              <td>5/19</td>
              <td>부서관</td>
            </tr>
            <tr>
              <td>10</td>
              <td>공공문서 관련한 문서 관리</td>
              <td>파일</td>
              <td>세종특별청사</td>
              <td>5/19</td>
              <td>부서관</td>
            </tr>
            <tr>
              <td>10</td>
              <td>공공문서 관련한 문서 관리</td>
              <td>파일</td>
              <td>세종특별청사</td>
              <td>5/19</td>
              <td>부서관</td>
            </tr>
            <tr>
              <td>10</td>
              <td>공공문서 관련한 문서 관리</td>
              <td>파일</td>
              <td>세종특별청사</td>
              <td>5/19</td>
              <td>부서관</td>
            </tr>
            <tr>
              <td>10</td>
              <td>공공문서 관련한 문서 관리</td>
              <td>파일</td>
              <td>세종특별청사</td>
              <td>5/19</td>
              <td>부서관</td>
            </tr>
            <c:forEach items="${boardList}" var="board">
              <tr>
                <td>${board.pk}</td>
                <td>${board.title}</td>
                <td>${다운로드}</td>
                <td>${board.deptDescription}</td>
                <td>${board.date}</td>
                <td>${board.userName}</td>
              </tr>
            </c:forEach>

          </tbody>
        </table>

      </span>

      <!-- 즐겨찾기 -->
      <span id="mypage_starmark">
        <table class="document">
          <h2> 즐겨찾기 </h2>
          <thead id="list_title">

            <tr>
              <th>번호</th>
              <th>제목</th>
              <th>다운로드</th>
              <th>소속 기관</th>
              <th>작성일</th>
              <th>작성자</th>
              <th>수정</th>
            </tr>
          </thead>
          <tbody class="list-body">
            <c:forEach items="${boardList}" var="board">
              <tr>
                <td>${board.pk}</td>
                <td>${board.title}</td>
                <td>${다운로드}</td>
                <td>${board.deptDescription}</td>
                <td>${board.date}</td>
                <td>${board.userName}</td>
                <td>${수정}</td>
              </tr>
            </c:forEach>
          </tbody>
        </table>

      </span>

      <!-- 개인정보 조회 및 수정 -->
      <span id="mypage_personalInfo">
        <table class="document">
          <h2> 개인정보 조회 </h2>
          <thead id="list_title">

            <tr>
              <th>번호</th>
              <th>제목</th>
              <th>다운로드</th>
              <th>소속 기관</th>
              <th>작성일</th>
              <th>작성자</th>
            </tr>
          </thead>
        </table>
      </span>

      <!-- 마이태그 수정 -->
      <span id="mypage_mytag">
        <table class="document">
          <h2> 마이태그 수정 </h2>
          <thead id="list_title">

            <tr>
              <th>번호</th>
              <th>제목</th>
              <th>다운로드</th>
              <th>소속 기관</th>
              <th>작성일</th>
              <th>작성자</th>
            </tr>
          </thead>
        </table>
      </span>

      <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
      <script>
        function body_convert(id) {
          let var1 = document.querySelector("#mypage_mywriting")
          let var2 = document.querySelector("#mypage_starmark")
          let var3 = document.querySelector("#mypage_personalInfo")
          let var4 = document.querySelector("#mypage_mytag")
          let html

          if (id == mypage_mywriting) {
            var1.style.display = "block";
            var2.style.display = "none";
            var3.style.display = "none";
            var4.style.display = "none";
        //     const data = axios({
        //       url: 'controller 주소',
        //       method: 'get',
        //       params: {
        //         'user': '${pk}'
        //     }
        // });
        // data.then(function (result) {
        //   console.log(result.data);
        //   let boardList = result.data 
        //   // boardList.array.forEach(element => {
        //   //   html += 
        //   // });
        //   html = 
        //   <c:forEach items="\${boardList}" var="board">
        //       <tr>
        //         <td>${board.pk}</td>
        //         <td>${board.title}</td>
        //         <td>${다운로드}</td>
        //         <td>${board.deptDescription}</td>
        //         <td>${board.date}</td>
        //         <td>${board.userName}</td>
        //       </tr>
        //   </c:forEach>

        // });

          } else if (id == mypage_starmark) {
            var1.style.display = "none";
            var2.style.display = "block";
            var3.style.display = "none";
            var4.style.display = "none";

          } else if (id == mypage_personalInfo) {
            var1.style.display = "none";
            var2.style.display = "none";
            var3.style.display = "block";
            var4.style.display = "none";

          } else {
            var1.style.display = "none";
            var2.style.display = "none";
            var3.style.display = "none";
            var4.style.display = "block";

          }
        }


      </script>

    </body>